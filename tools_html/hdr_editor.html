<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HDR编辑器</title>
    <link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" href="../css/hdr_editor.css">
</head>

<body class="hdr-page-body">
    <script src="../js/menu.js"></script>
    <div id="main_bg"></div>
    <div class="left_menu">
        <ul class="menu_root">
            <li class="left_item">
                <div class="left_icon" id="left_icon1"></div>
                <div class="item_context">AI工具箱</div>
                <ul class="sub_menu">
                    <li><a href="chatgpt.html">ChatGPT</a></li>
                    <li><a href="ai_upscale.html">AI高清放大</a></li>
                    <li><a href="ai_frame_interpolation.html">AI插帧/分辨率</a></li>
                    <li><a href="ai_draw.html">AI绘画</a></li>
                </ul>
            </li>
            <li class="left_item">
                <div class="left_icon" id="left_icon1"></div>
                <div class="item_context">3D工具/图片处理</div>
                <ul class="sub_menu">
                    <li><a href="compress_image.html">图片压缩转换</a></li>
                    <li><a href="3d_city.html">3D城市地形筑下载</a></li>
                    <li><a href="combine_rgba.html">贴图通道合成</a></li>
                    <li><a href="hdr_editor.html">HDR编辑器</a></li>
                    <li><a href="ps_online.html">在线PS</a></li>
                    <li><a href="pbr_texture_generator.html">PBR贴图生成器</a></li>
                    <li><a href="model_previewer.html">模型预览器</a></li>
                </ul>
            </li>
            <li class="left_item">
                <div class="left_icon" id="left_icon1"></div>
                <div class="item_context">视频处理</div>
                <ul class="sub_menu">
                    <li><a href="video_cut.html">视频剪辑</a></li>
                    <li><a href="video_format_cover.html">视频格式转换</a></li>
                </ul>
            </li>
            <li class="left_item">
                <div class="left_icon" id="left_icon1"></div>
                <div class="item_context">TA工具</div>
                <ul class="sub_menu">
                    <li><a href="shader_library.html">shader函数库</a></li>
                    <li><a href="ue_material_picture.html">UE材质库</a></li>
                    <li><a href="physics_light.html">物理光照计算器</a></li>
                    <li><a href="TA_wiki.html">TA知识库</a></li>
                </ul>
            </li>
            <li class="left_item">
                <div class="left_icon" id="left_icon1"></div>
                <div class="item_context">和我一起听</div>
                <ul class="sub_menu">
                    <li><a href="cloud_music.html">网易云音乐</a></li>
                </ul>
            </li>
            <li class="left_item">关于</li>
        </ul>
    </div>

    <div class="top_search">
        <input type="text" placeholder="搜索">
    </div>

    <div id="panel">
        <aside class="queue-sidebar">
            <div class="queue-title">资源队列</div>
            <div class="file-list" id="fileList"></div>
        </aside>

        <main class="main-content hdr-main-content" aria-label="HDR编辑器">
            <h1>HDR 编辑器</h1>
            <p class="subtitle">本地在浏览器中编辑 HDR 贴图与色调映射。</p>
            <div id="hdrToolContainer" class="hdr-tool-container"></div>
        </main>
    </div>

    <script type="importmap">
        {
          "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js"
          }
        }
    </script>
    <script src="../js/hdr_editor.js"></script>
    <script>
        (function () {
            function boot() {
                const panel = document.getElementById('panel');
                if (!panel) return;
                if (typeof window.initHdrEditorTool === 'function') {
                    window.initHdrEditorTool(panel);
                } else {
                    const container = document.getElementById('hdrToolContainer') || panel;
                    container.innerHTML = '<div class="result-box">HDR 编辑器脚本加载失败，请刷新重试。</div>';
                }
            }
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', boot);
            } else {
                boot();
            }
        })();
    </script>
</body>

</html>
